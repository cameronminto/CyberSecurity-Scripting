#!/bin/bash

filter()
{
awk 'BEGIN {
	FS=":x:|:";
	print "___________________________________________________________________________________________________";
	printf("| \033[34m%-16s\033[0m | \033[34m%-6s\033[0m | \033[34m%-7s\033[0m | \033[34m%-34s\033[0m | \033[34m%-21s\033[0m |\n", "Username", "UserID", "GroupID", "Home", "Shell");
	print "___________________________________________________________________________________________________";}
$6 ~ /bash/{printf("| \033[33m%-16s\033[0m | \033[35m%-6s\033[0m | \033[35m%-7s\033[0m | \033[35m%-34s\033[0m | \033[35m%-21s\033[0m | \n", $1, $2, $3, $5, $6);}

END {

	print("___________________________________________________________________________________________________");

}'
}
cat /etc/passwd | filter
